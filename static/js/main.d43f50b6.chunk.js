(this.webpackJsonpreact_stuff=this.webpackJsonpreact_stuff||[]).push([[0],{48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(14),i=n.n(c),o=n(41),l=n.n(o),a=(n(48),n(0)),r=n.n(a),s=n(3),d=n(5),u=n(18),j=n(16),b=n(39),m=(n(50),n(38)),p=(n(51),n(52),n(33)),O=n.p+"static/media/edit-icon.7c5f10b5.png",f=n.p+"static/media/edit-complete-icon.2ab64857.png",h=n.p+"static/media/delete-icon.055df34c.png",x=n(10);function k(e){var t=Object(c.useRef)(null);return Object(c.useEffect)((function(){e.edited&&(t.current.focus(),t.current.scrollIntoView())}),[e.edited]),Object(x.jsxs)("li",{children:[Object(x.jsxs)("div",{className:"task-row",tabIndex:0,"aria-label":"Task,"+e.name+"; Priority Level,"+e.priority+(e.completed?"; Completed":"; Incomplete"),children:[Object(x.jsxs)("label",{htmlFor:e.id,children:[Object(x.jsx)("input",{type:"checkbox",id:e.id,name:e.id,onChange:e.clickHandler,checked:e.completed}),Object(x.jsx)("div",{htmlFor:e.id,className:"checkbox priority-"+e.priority,tabIndex:0,onKeyUp:function(t){32===t.keyCode&&e.clickHandler()}}),e.edited?Object(x.jsx)(p.a,{value:e.name,ref:t,"aria-label":"Rename Task; Current name, "+e.name,onChange:function(t){return e.editTaskName(t.target.value)}}):Object(x.jsx)("span",{className:"label-text","aria-label":"Task name, "+e.name+"; checkbox",children:e.name})]}),Object(x.jsxs)("div",{className:"edit-delete",children:[Object(x.jsx)("button",{onClick:function(){e.edited?e.resetEditedItem():e.setEditedItem()},"aria-label":e.edited?"Stop editing task":"Edit task",children:Object(x.jsx)("img",{src:e.edited?f:O,alt:"edit item",width:"35px",height:"35px"})}),Object(x.jsx)("button",{onClick:e.deleteTask,children:Object(x.jsx)("img",{src:h,alt:"delete item",width:"35px",height:"35px","aria-label":"Delete task,"+e.name})})]})]}),e.edited?Object(x.jsxs)("div",{className:"priority-select",children:[Object(x.jsx)("span",{className:"priority-label",children:"Priority: "}),[1,2,3].map((function(t){return Object(x.jsx)("span",{className:"priority-box priority-"+t,"aria-label":(e.priority!==t?"Change priority level to, "+t+" ;":"")+"Current priority level, "+e.priority,tabIndex:0,onKeyUp:function(n){32===n.keyCode&&e.editPriority(t)},onClick:function(){return e.editPriority(t)}},t)}))]}):null]})}function C(e){if("boolean"===typeof e.tasks)return Object(x.jsx)("div",{id:"task-list-area",children:Object(x.jsx)("div",{id:"empty-list-text",children:"Loading ..."})});var t=e.onlyIncomplete?e.tasks.filter((function(e){return!e.completed})):e.tasks,n=t.map((function(t){return Object(c.createElement)(k,Object(m.a)(Object(m.a)({},t),{},{clickHandler:function(){return e.toggleTaskAsComplete(t.id,!t.completed)},key:t.id,edited:e.editedItem===t.id,deleteTask:function(){return e.deleteTask(t)},resetEditedItem:e.resetEditedItem,editPriority:function(n){return e.editPriority(t.id,n)},editTaskName:function(n){return e.editTaskName(t.id,n)},setEditedItem:function(){return e.setEdit(t.id)}}))}));return Object(x.jsx)("div",{id:"task-list-area",tabIndex:0,children:0===t.length?Object(x.jsx)("div",{id:"empty-list-text",children:"Hit + to add a new task!"}):Object(x.jsx)("ul",{id:"task-list",children:n})})}n(54);function g(e){return Object(x.jsx)("header",{children:Object(x.jsx)("button",{onClick:e.onClick,tabIndex:0,"aria-label":"Current List, "+e.title+"; Open Change List Menu",children:Object(x.jsxs)("h1",{children:[" ",e.title," ",Object(x.jsx)("span",{id:"header-triangle",children:"\u25bc"})," "]})})})}n(55);var y=n.p+"static/media/delete-completed-icon.e1dafe41.png",I=n.p+"static/media/add-icon.3e4e9024.png",v=n.p+"static/media/view-all.a1c1e44f.png",w=n.p+"static/media/view-incomplete.9f41f095.png";function S(e){var t="40px";return Object(x.jsxs)("footer",{tabIndex:0,children:[Object(x.jsx)("button",{id:"delete-completed-btn",onClick:e.deleteAllCompleted,"aria-label":"Delete all completed tasks",children:Object(x.jsx)("img",{src:y,alt:"delete completed",width:t,height:t})}),Object(x.jsx)("button",{id:"add-new-btn",tabIndex:0,onClick:e.addTask,"aria-label":"Add new task",children:Object(x.jsx)("img",{src:I,alt:"Add New Task",width:t,height:t})}),Object(x.jsx)("button",{id:"show-incomplete-all-btn",tabIndex:0,onClick:function(){return e.setOnlyIncomplete(!e.onlyIncomplete)},"aria-label":e.onlyIncomplete?"Currently viewing, only incomplete tasks; View all tasks":"Currently viewing, all tasks; View only incomplete tasks",children:e.onlyIncomplete?Object(x.jsx)("img",{src:v,width:"45px",height:"45px",alt:"View All"}):Object(x.jsx)("img",{src:w,width:"45px",height:"45px",alt:"View Incomplete"})})]})}n(56);var N=n.p+"static/media/x-icon.5726abf3.png",T=n.p+"static/media/check-icon.22fa9d5c.png";n(57);function A(e){var t=Object(c.useRef)(),n=Object(c.useRef)();return Object(c.useEffect)((function(){return t.current.focus()}),[]),Object(x.jsx)("div",{className:"backdrop",tabIndex:-1,children:Object(x.jsxs)("div",{className:e.modalClassName,tabIndex:1,ref:t,id:"collection-modal",onKeyDown:function(e){"Tab"===e.key&&e.shiftKey&&"collection-modal"===e.target.id&&(e.stopPropagation(),e.preventDefault(),setTimeout((function(){n.current&&n.current.focus()}),0))},children:[e.children,Object(x.jsxs)("div",{className:"alert-buttons",children:[Object(x.jsx)("button",{onClick:e.onClose,tabIndex:1,children:Object(x.jsx)("img",{src:N,alt:"cancel",width:"45px",height:"45px","aria-label":"Close Pop-up"})}),e.middleIcon&&Object(x.jsx)("button",{tabIndex:1,onClick:e.middleIconOnClick,"aria-label":"Add new list",children:e.middleIcon}),Object(x.jsx)("button",{tabIndex:1,ref:n,"aria-label":"Confirm",onClick:function(){e.onClose(),e.onOK()},onKeyDown:function(e){"Tab"!==e.key||e.shiftKey||setTimeout((function(){t.current&&t.current.focus()}),0)},children:Object(x.jsx)("img",{src:e.deleteAlert?h:T,alt:"confirm delete",width:"45px",height:"45px"})})]})]})})}function K(e){return Object(x.jsx)(A,{modalClassName:"delete-modal",onClose:e.onClose,onOK:e.onOK,deleteAlert:!0,children:e.children})}function E(e){return Object(x.jsx)(K,{onClose:e.onClose,onOK:e.onOK,children:Object(x.jsx)("div",{children:"Are you sure you want to delete all ".concat(e.completedTasksNumber,"/").concat(e.tasksNumber," completed tasks?")})})}function D(e){return Object(x.jsx)(K,{onClose:e.onClose,onOK:e.onOK,children:Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:"Are you sure you want to delete "}),Object(x.jsx)("span",{className:"task-name",children:e.name}),Object(x.jsx)("span",{children:"?"})]})})}n(58),n(59);function P(e){return Object(x.jsxs)("li",{className:"collection-row",children:[Object(x.jsx)("button",{tabIndex:1,onClick:function(){return e.setSelectedCollection(e.name)},"aria-label":"List,  "+e.name+(e.selected?"; Currently Selected":"; Select List"),children:Object(x.jsx)("span",{className:e.selected?"highlighted small-caps":"small-caps",children:e.name})}),!e.selected&&Object(x.jsx)("button",{tabIndex:1,onClick:e.onDelete,"aria-label":"Delete List, "+e.name,children:Object(x.jsx)("img",{src:h,alt:"cancel",width:"45px",height:"45px"})})]},e.name)}function M(e){var t=Object(c.useState)(e.collection),n=Object(j.a)(t,2),i=n[0],o=n[1],l=Object(c.useState)(""),a=Object(j.a)(l,2),r=a[0],s=a[1],d=Object(c.useState)(!1),u=Object(j.a)(d,2),b=u[0],m=u[1],O=Object(c.useRef)(null);return Object(c.useEffect)((function(){b&&(O.current.focus(),O.current.scrollIntoView())}),[b]),Object(x.jsx)(A,{onClose:e.onClose,onOK:function(){return e.onOK(i)},modalClassName:"change-collection-modal",deleteAlert:!1,middleIcon:Object(x.jsx)("img",{src:I,alt:"cancel",width:"45px",height:"45px"}),middleIconOnClick:function(){return m(!0)},children:Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"center-text",children:"Which list would you like to view?"}),Object(x.jsx)("ul",{id:"collections-list",children:e.collections.map((function(t){return Object(x.jsx)(P,{setSelectedCollection:o,selected:i===t,name:t,onDelete:function(){return e.onCollectionsDeleted(t)}},t)}))}),b&&Object(x.jsx)(p.a,{value:r,ref:O,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.stopPropagation(),O.current.blur())},onBlur:function(t){m(!1),""===r?(e.onCollectionsAdded("Untitled"),o("Untitled")):(e.onCollectionsAdded(r),o(r))}},"edit")]})})}n(60);var L=n.p+"static/media/sort-icon.79aeb5e0.png",V=n.p+"static/media/sort-complete-icon.9777492c.png";function R(e){var t=Object(c.useState)(!1),n=Object(j.a)(t,2),i=n[0],o=n[1],l=Object(j.a)(e.sortOptions,2),a=l[0],r=l[1],s="40px";return Object(x.jsxs)("div",{id:"sort-bar",tabIndex:0,children:[i&&Object(x.jsx)("button",{onClick:function(){return e.setSortOptions([a,"asc"===r?"desc":"asc"])},"aria-label":"Toggle Sort Direction; Current Sort direction, "+r+"ending",children:Object(x.jsx)("div",{className:"current-sort",children:"asc"===r?"\u2191":"\u2193"})}),i&&["created","name","priority"].map((function(t){return Object(x.jsx)("button",{onClick:function(){return e.setSortOptions([t,r])},"aria-label":a===t?"Current Sort Method; Method, "+t:"Change Sort Method; Method, "+t,children:Object(x.jsx)("div",{id:t,className:a===t?"current-sort":"",children:t})},t)})),Object(x.jsx)("button",{onClick:function(){return o(!i)},"aria-label":i?"Close sort menu":"open sort menu",children:Object(x.jsx)("img",{src:i?V:L,alt:"sort",width:s,height:s})})]})}var B=function(e){var t=Object(b.useMediaQuery)({query:"(min-width: 1225px)"}),n=Object(b.useMediaQuery)({query:"(max-width: 1224px)"}),i=Object(c.useState)(!1),o=Object(j.a)(i,2),l=o[0],a=o[1],r=Object(c.useState)(null),s=Object(j.a)(r,2),d=s[0],u=s[1],m=Object(c.useState)(!1),p=Object(j.a)(m,2),O=p[0],f=p[1],h=Object(c.useState)(null),k=Object(j.a)(h,2),y=k[0],I=k[1],v=Object(c.useState)(!1),w=Object(j.a)(v,2),N=w[0],T=w[1],A=Object(x.jsx)(S,{onlyIncomplete:l,setOnlyIncomplete:a,deleteAllCompleted:function(){return f(!O)},addTask:function(){var t=e.onItemAdded();u(t)}});return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("div",{className:"main-app",children:[Object(x.jsx)(g,{title:e.collection,onClick:function(){return T(!0)}}),t&&A,Object(x.jsx)(R,{sortOptions:e.sortOptions,setSortOptions:e.setSortOptions}),Object(x.jsx)(C,{tasks:e.tasks,onlyIncomplete:l,toggleTaskAsComplete:function(t,n){return e.onItemChanged(t,"completed",n)},deleteTask:function(e){return I(e)},editPriority:function(t,n){return e.onItemChanged(t,"priority",n)},editTaskName:function(t,n){return e.onItemChanged(t,"name",n)},setEdit:u,editedItem:d,resetEditedItem:function(){return u(null)}}),n&&A]}),O&&Object(x.jsx)(E,{onClose:function(){return f(!1)},onOK:function(){e.onItemsDeleted(e.tasks.filter((function(e){return e.completed})).map((function(e){return e.id})))},tasksNumber:e.tasks.length,completedTasksNumber:e.tasks.filter((function(e){return e.completed})).length}),y&&Object(x.jsx)(D,{onClose:function(){return I(null)},onOK:function(){return e.onItemsDeleted([y.id])},name:y.name}),N&&Object(x.jsx)(M,{onClose:function(){return T(null)},onOK:e.setCollection,collection:e.collection,onCollectionsAdded:e.onCollectionsAdded,onCollectionsDeleted:e.onCollectionsDeleted,collections:e.collections})]})},H=n(42),U=n(35),q=n(43);U.a.initializeApp({apiKey:"AIzaSyAqjBv9F9MnhkTPQeRghfLj06E8iJVh0lg",authDomain:"list-of-tasks-281cc.firebaseapp.com",projectId:"list-of-tasks-281cc",storageBucket:"list-of-tasks-281cc.appspot.com",messagingSenderId:"319211842925",appId:"1:319211842925:web:78baa57a16f2989eac3e64"});var F=U.a.firestore();function J(e){var t=Object(c.useState)(["Tasks"]),n=Object(j.a)(t,2),i=n[0],o=n[1],l=Object(c.useState)("Tasks"),a=Object(j.a)(l,2),b=a[0],m=a[1],p=Object(c.useState)(["priority","desc"]),O=Object(j.a)(p,2),f=O[0],h=O[1],k=Object(j.a)(f,2),C=k[0],g=k[1],y=F.collection(b).orderBy(C,g),I=Object(q.a)(y),v=Object(j.a)(I,3),w=v[0],S=v[1];v[2];var N=S||w.docs.map((function(e){return e.data()}));function T(){return(T=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(i.filter((function(e){return e!==t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsx)(B,{setCollection:m,collection:b,tasks:N,sortOptions:f,setSortOptions:h,onItemChanged:function(e,t,n){F.collection(b).doc(e).update(Object(d.a)({},t,n))},onItemAdded:function(){var e=Object(H.a)();return F.collection(b).doc(e).set({id:e,name:"",completed:!1,priority:2,created:U.a.database.ServerValue.TIMESTAMP}),e},onItemsDeleted:function(e){var t=F.collection(b);e.forEach((function(e){return t.doc(e).delete()}))},onCollectionsAdded:function(e){o([].concat(Object(u.a)(i),[e]))},onCollectionsDeleted:function(e){return T.apply(this,arguments)},collections:i})}l.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(J,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.d43f50b6.chunk.js.map